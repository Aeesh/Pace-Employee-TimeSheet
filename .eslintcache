[{"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\layouts\\Navbar.js":"1","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\pages\\Home.js":"2","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\pages\\IndexArea.js":"3","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\workspace\\layouts\\Navbar.js":"4","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\user\\Profile.js":"5","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\index.js":"6","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\App.js":"7"},{"size":1876,"mtime":1610548367640,"results":"8","hashOfConfig":"9"},{"size":484,"mtime":1610546270963,"results":"10","hashOfConfig":"9"},{"size":2050,"mtime":1610548211831,"results":"11","hashOfConfig":"9"},{"size":7809,"mtime":1610546676814,"results":"12","hashOfConfig":"9"},{"size":7775,"mtime":1610546748529,"results":"13","hashOfConfig":"9"},{"size":3624,"mtime":1610548008841,"results":"14","hashOfConfig":"9"},{"size":1468,"mtime":1610548301270,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"lqflwm",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":1,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\layouts\\Navbar.js",[],"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\pages\\Home.js",[],"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\pages\\IndexArea.js",["31"],"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\workspace\\layouts\\Navbar.js",["32","33","34","35","36"],"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\user\\Profile.js",["37","38"],"// React\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\n// Actions\r\nimport { syncCurrentUser } from '../../actions/user/userAction';\r\n\r\n// Service helper\r\nimport { authHeader } from '../../services/auth-header';\r\nimport { USER_PROFILE_URL } from '../../services/root-endpoints';\r\n\r\n//Layout\r\nimport Button from '../layouts/Button';\r\nimport unclebay from '../pages/pages-images/ayodele_samuel_adebayo.jpg';\r\n\r\n// Toaster\r\nimport { sessionExpired } from '../../toaster'\r\n\r\n\r\nconst ProfileRow = (props) => {\r\n    const { title, label } = props\r\n    return(\r\n        <>\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-3\">\r\n                    <h6 className=\"mb-0\">{title}</h6>\r\n                </div>\r\n                <div className=\"col-sm-9 text-secondary\">\r\n                    {label}\r\n                </div>\r\n            </div>\r\n            <hr />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst Profile = () =>{\r\n    const params = useParams();\r\n    const [ userProfile, setUserProfile ] = useState({});\r\n    const [ staffID, setStaffID ] = useState('');\r\n\r\n    useEffect(() => {\r\n        // Get staffID from the urls \r\n        const staffID = params.id;\r\n\r\n        // Set the staffID state to be reusable in the edit profile button path\r\n        setStaffID(staffID);\r\n\r\n        // Function to get the user profile from the server (using local storage before but not synchronizing with the server)\r\n        const fetchCurrentUserProfile = async() =>{\r\n\r\n            // Get user profile from the server\r\n            const response = await axios.get(USER_PROFILE_URL + staffID, { headers: authHeader })\r\n            // Get current user from local storage\r\n            const checkUserInLocalStorage = JSON.parse(localStorage.getItem('currentUser'));\r\n            \r\n\r\n            // Check if the response data is an object (error occurs where data is Token expired)\r\n            if(response.data === 'invalid token or token expired'){\r\n                syncCurrentUser(checkUserInLocalStorage.staffID)\r\n            }else{\r\n                //if there is a user in the local storage\r\n                if(checkUserInLocalStorage && response){\r\n                    \r\n                        // Synchronize the local storage with the server\r\n                // localStorage.setItem('currentUser', JSON.stringify(response))\r\n            \r\n                // synchronize with the redux store\r\n                syncCurrentUser(params.id)\r\n                setUserProfile(response)\r\n            }\r\n            \r\n            if(!response || response === undefined){\r\n                response = {}\r\n                setUserProfile(checkUserInLocalStorage)\r\n            }\r\n            \r\n            \r\n            // Destructure the user information from the response.data.data[0] -response structure\r\n            const {\r\n                firstName,\r\n                lastName,\r\n                phoneNumber,\r\n                email,\r\n                address,\r\n                userName,\r\n            \r\n            } = response.data.data[0]\r\n            \r\n            // Set the destructure user information into the profile state (ES6 syntax)\r\n            setUserProfile({\r\n                    firstName,\r\n                    lastName,\r\n                    phoneNumber,\r\n                    email,\r\n                    address,\r\n                    userName,\r\n                })\r\n                \r\n            }\r\n        }\r\n            \r\n        fetchCurrentUserProfile()\r\n    }, [params.id])\r\n\r\n    if(!userProfile){\r\n        return(\r\n            <div className=\"d-flex justify-content-center align-items-center mt-2\" style={{height:'100vh', background: '#cccccc'}}>\r\n                <i className=\"fa fa-spinner fa-pulse fa-3x fa-fw\" style={{fontSize: \"23px\"}}></i>\r\n                <span>Loading... Please wait</span>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <style>\r\n                    {\r\n                        `\r\n                        .dashboard-body-wrapper, .page-holder{\r\n                            background: #e9ecef;\r\n                        }\r\n                        `\r\n                    }\r\n                </style>\r\n                <div className=\"main-body\">\r\n                    {/* Breadcrumb */}\r\n                    <nav aria-label=\"breadcrumb\" className=\"main-breadcrumb\">\r\n                        <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                            <Link to='/dashboard'>\r\n                                Dashboard\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                            Profile\r\n                        </li>\r\n                        </ol>\r\n                    </nav>\r\n                    \r\n                    {/* /Breadcrumb */}\r\n                    <div className=\"row gutters-sm mt-4\">\r\n                        <div className=\"col-md-4 mb-3\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"d-flex flex-column align-items-center text-center\">\r\n                                        {/* <img src=\"https://bootdey.com/img/Content/avatar/avatar7.png\" alt=\"Admin\" className=\"rounded-circle\" width={150} /> */}\r\n                                        <img src={unclebay} alt=\"Admin\" className=\"rounded-circle\" width={150} />\r\n                                        <div className=\"mt-3\">\r\n                                            <h4 className=\"text-capitalize\">{userProfile.firstName} {userProfile.lastName}</h4>\r\n                                            <h4>{userProfile.id} </h4>\r\n                                            <p className=\"text-secondary mb-1\">Frontend Engineer</p>\r\n                                            <p className=\"text-muted font-size-sm\">{userProfile.address}</p>\r\n                                            <Link to={`/dashboard/profile/update/${staffID}`}>\r\n                                                <Button className=\"btn btn-primary mr-2\" label=\"Edit Profile\"/>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-8\">\r\n                            <div className=\"card mb-3\">\r\n                                <div className=\"card-body\">\r\n                                    <ProfileRow title=\"Full Name\" label={ ` ${userProfile.firstName} ${userProfile.lastName}` } />\r\n                                    <ProfileRow title=\"Email\" label={userProfile.email} />\r\n                                    <ProfileRow title=\"Department\" label=\"Web development\" />\r\n                                    <ProfileRow title=\"Role\" label=\"Frontend Engineer\" />\r\n                                    <ProfileRow title=\"Salary\" label={`# ${userProfile.billRateCharge}`} />\r\n                                    <ProfileRow title=\"Phone\" label={userProfile.phoneNumber} />\r\n                                    <ProfileRow title=\"Address\" label={userProfile.address} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\index.js",[],"C:\\Users\\Unclebay\\Desktop\\project\\Pace-Employee-TimeSheet\\src\\components\\App.js",["39","40","41"],{"ruleId":"42","severity":1,"message":"43","line":4,"column":8,"nodeType":"44","messageId":"45","endLine":4,"endColumn":18},{"ruleId":"42","severity":1,"message":"46","line":20,"column":11,"nodeType":"44","messageId":"45","endLine":20,"endColumn":19},{"ruleId":"47","severity":1,"message":"48","line":38,"column":7,"nodeType":"49","endLine":38,"endColumn":20,"suggestions":"50"},{"ruleId":"51","severity":2,"message":"52","line":38,"column":8,"nodeType":"44","messageId":"53","endLine":38,"endColumn":19},{"ruleId":"54","severity":1,"message":"55","line":64,"column":29,"nodeType":"56","endLine":64,"endColumn":182},{"ruleId":"54","severity":1,"message":"55","line":118,"column":29,"nodeType":"56","endLine":118,"endColumn":158},{"ruleId":"42","severity":1,"message":"57","line":19,"column":10,"nodeType":"44","messageId":"45","endLine":19,"endColumn":24},{"ruleId":"58","severity":1,"message":"59","line":78,"column":17,"nodeType":"44","messageId":"60","endLine":78,"endColumn":25},{"ruleId":"42","severity":1,"message":"61","line":4,"column":10,"nodeType":"44","messageId":"45","endLine":4,"endColumn":21},{"ruleId":"42","severity":1,"message":"62","line":4,"column":23,"nodeType":"44","messageId":"45","endLine":4,"endColumn":34},{"ruleId":"42","severity":1,"message":"63","line":21,"column":9,"nodeType":"44","messageId":"45","endLine":21,"endColumn":16},"no-unused-vars","'TypeWriter' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["64"],"no-undef","'currentUser' is not defined.","undef","jsx-a11y/role-supports-aria-props","The attribute aria-haspopup is not supported by the role link. This role is implicit on the element a.","JSXOpeningElement","'sessionExpired' is defined but never used.","no-const-assign","'response' is constant.","const","'useDispatch' is defined but never used.","'useSelector' is defined but never used.","'histroy' is assigned a value but never used.",{"desc":"65","fix":"66"},"Update the dependencies array to be: [history]",{"range":"67","text":"68"},[1140,1153],"[history]"]